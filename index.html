<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tabellone Punteggi Pro - Gara Sportiva</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <meta name="description" content="Tabellone punteggi avanzato per gare sportive tra amici con gestione sport e vincitori">
    <meta name="keywords" content="punteggi, gara, sport, amici, tabellone, vincitori">
</head>
<body>
    <div class="app-container">
        <!-- Header principale -->
        <header class="main-header">
            <div class="header-content">
                <div class="logo-section">
                    <div class="logo-icon">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <div class="logo-text">
                        <h1 class="app-title">Tabellone Punteggi Pro</h1>
                        <p class="app-subtitle">Gestione Completa delle Gare Sportive</p>
                    </div>
                </div>
                <div class="header-actions">
                    <button class="btn btn-primary" id="addSportBtn">
                        <i class="fas fa-plus-circle"></i>
                        Nuovo Sport
                    </button>
                    <button class="btn btn-secondary" id="addPlayerBtn">
                        <i class="fas fa-user-plus"></i>
                        Nuovo Partecipante
                    </button>
                    <button class="btn btn-outline" id="resetBtn">
                        <i class="fas fa-redo"></i>
                        Reset
                    </button>
                </div>
            </div>
        </header>

        <!-- Navigazione sport -->
        <nav class="sports-nav" id="sportsNav">
            <div class="nav-content">
                <div class="nav-scroll">
                    <button class="sport-tab active" data-sport="all">
                        <i class="fas fa-list"></i>
                        <span>Tutti gli Sport</span>
                    </button>
                    <!-- Gli sport verranno aggiunti dinamicamente qui -->
                </div>
                <button class="nav-add-btn" id="quickAddSport">
                    <i class="fas fa-plus"></i>
                </button>
            </div>
        </nav>

        <!-- Contenuto principale -->
        <main class="main-content">
            <!-- Sezione statistiche -->
            <section class="stats-section" id="statsSection">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-running"></i>
                        </div>
                        <div class="stat-content">
                            <h3 class="stat-number" id="totalSports">0</h3>
                            <p class="stat-label">Sport Attivi</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-content">
                            <h3 class="stat-number" id="totalPlayers">0</h3>
                            <p class="stat-label">Partecipanti</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-crown"></i>
                        </div>
                        <div class="stat-content">
                            <h3 class="stat-number" id="totalWinners">0</h3>
                            <p class="stat-label">Vincitori</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="stat-content">
                            <h3 class="stat-number" id="totalMatches">0</h3>
                            <p class="stat-label">Partite Giocate</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sezione vincitori -->
            <section class="winners-section" id="winnersSection" style="display: none;">
                <div class="section-header">
                    <h2 class="section-title">
                        <i class="fas fa-crown"></i>
                        Hall of Fame
                    </h2>
                    <p class="section-subtitle">I campioni delle nostre gare</p>
                </div>
                <div class="winners-grid" id="winnersGrid">
                    <!-- I vincitori verranno inseriti qui dinamicamente -->
                </div>
            </section>

            <!-- Sezione tabellone punteggi -->
            <section class="scoreboard-section">
                <div class="section-header">
                    <h2 class="section-title" id="scoreboardTitle">
                        <i class="fas fa-medal"></i>
                        Classifica Generale
                    </h2>
                    <div class="section-actions">
                        <button class="btn btn-success" id="declareWinnerBtn" style="display: none;">
                            <i class="fas fa-crown"></i>
                            Dichiara Vincitore
                        </button>
                        <button class="btn btn-outline" id="newMatchBtn" style="display: none;">
                            <i class="fas fa-plus"></i>
                            Nuova Partita
                        </button>
                    </div>
                </div>

                <div class="scoreboard-container">
                    <div class="scoreboard" id="scoreboard">
                        <!-- I punteggi verranno inseriti qui dinamicamente -->
                    </div>

                    <div class="empty-state" id="emptyState">
                        <div class="empty-state-content">
                            <div class="empty-icon">
                                <i class="fas fa-trophy"></i>
                            </div>
                            <h3>Inizia la Tua Prima Gara!</h3>
                            <p>Aggiungi uno sport e dei partecipanti per iniziare a tenere traccia dei punteggi</p>
                            <div class="empty-actions">
                                <button class="btn btn-primary" onclick="document.getElementById('addSportBtn').click()">
                                    <i class="fas fa-plus-circle"></i>
                                    Aggiungi Sport
                                </button>
                                <button class="btn btn-secondary" onclick="document.getElementById('addPlayerBtn').click()">
                                    <i class="fas fa-user-plus"></i>
                                    Aggiungi Partecipante
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="main-footer">
            <div class="footer-content">
                <div class="footer-info">
                    <p>Aggiornato in tempo reale â€¢ <span id="lastUpdate">Mai</span></p>
                    <p class="footer-version">Tabellone Punteggi Pro .0</p>
                </div>
                <div class="footer-actions">
                    <button class="btn-icon" id="fullscreenBtn" title="Schermo intero">
                        <i class="fas fa-expand"></i>
                    </button>
                    <button class="btn-icon" id="themeToggle" title="Cambia tema">
                        <i class="fas fa-moon"></i>
                    </button>
                </div>
            </div>
        </footer>
    </div>

    <!-- Modal Aggiungi Sport -->
    <div class="modal" id="addSportModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>
                    <i class="fas fa-plus-circle"></i>
                    Aggiungi Nuovo Sport
                </h3>
                <button class="modal-close" id="closeSportModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="addSportForm">
                    <div class="form-group">
                        <label for="sportName">Nome Sport</label>
                        <input type="text" id="sportName" name="sportName" placeholder="es. Calcio, Basket, Tennis..." required>
                    </div>
                    <div class="form-group">
                        <label for="sportIcon">Icona Sport</label>
                        <div class="icon-selector">
                            <div class="icon-grid">
                                <button type="button" class="icon-option active" data-icon="fa-futbol">
                                    <i class="fas fa-futbol"></i>
                                </button>
                                <button type="button" class="icon-option" data-icon="fa-basketball-ball">
                                    <i class="fas fa-basketball-ball"></i>
                                </button>
                                <button type="button" class="icon-option" data-icon="fa-volleyball-ball">
                                    <i class="fas fa-volleyball-ball"></i>
                                </button>
                                <button type="button" class="icon-option" data-icon="fa-table-tennis">
                                    <i class="fas fa-table-tennis"></i>
                                </button>
                                <button type="button" class="icon-option" data-icon="fa-running">
                                    <i class="fas fa-running"></i>
                                </button>
                                <button type="button" class="icon-option" data-icon="fa-swimming-pool">
                                    <i class="fas fa-swimming-pool"></i>
                                </button>
                                <button type="button" class="icon-option" data-icon="fa-bicycle">
                                    <i class="fas fa-bicycle"></i>
                                </button>
                                <button type="button" class="icon-option" data-icon="fa-dumbbell">
                                    <i class="fas fa-dumbbell"></i>
                                </button>
                            </div>
                        </div>
                        <input type="hidden" id="selectedIcon" name="selectedIcon" value="fa-futbol">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="cancelSportBtn">Annulla</button>
                <button type="submit" form="addSportForm" class="btn btn-primary">
                    <i class="fas fa-plus"></i>
                    Aggiungi Sport
                </button>
            </div>
        </div>
    </div>

    <!-- Modal Aggiungi Partecipante -->
    <div class="modal" id="addPlayerModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>
                    <i class="fas fa-user-plus"></i>
                    Aggiungi Partecipante
                </h3>
                <button class="modal-close" id="closePlayerModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="addPlayerForm">
                    <div class="form-group">
                        <label for="playerName">Nome Partecipante</label>
                        <input type="text" id="playerName" name="playerName" placeholder="Inserisci il nome..." required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="cancelPlayerBtn">Annulla</button>
                <button type="submit" form="addPlayerForm" class="btn btn-primary">
                    <i class="fas fa-plus"></i>
                    Aggiungi Partecipante
                </button>
            </div>
        </div>
    </div>

    <!-- Modal Modifica Punteggio -->
    <div class="modal" id="editScoreModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>
                    <i class="fas fa-edit"></i>
                    Modifica Punteggio
                </h3>
                <button class="modal-close" id="closeEditModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="editScoreForm">
                    <div class="form-group">
                        <label for="editPlayerName">Partecipante</label>
                        <input type="text" id="editPlayerName" readonly>
                    </div>
                    <div class="form-group">
                        <label for="editSportName">Sport</label>
                        <input type="text" id="editSportName" readonly>
                    </div>
                    <div class="form-group">
                        <label for="newScore">Nuovo Punteggio</label>
                        <input type="number" id="newScore" name="newScore" min="0" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" id="deleteScoreBtn">
                    <i class="fas fa-trash"></i>
                    Elimina
                </button>
                <button type="button" class="btn btn-secondary" id="cancelEditBtn">Annulla</button>
                <button type="submit" form="editScoreForm" class="btn btn-primary">
                    <i class="fas fa-save"></i>
                    Salva
                </button>
            </div>
        </div>
    </div>

    <!-- Modal Dichiara Vincitore -->
    <div class="modal" id="declareWinnerModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>
                    <i class="fas fa-crown"></i>
                    Dichiara Vincitore
                </h3>
                <button class="modal-close" id="closeWinnerModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="declareWinnerForm">
                    <div class="form-group">
                        <label for="winnerPlayer">Vincitore</label>
                        <select id="winnerPlayer" name="winnerPlayer" required>
                            <option value="">Seleziona il vincitore...</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="winnerSport">Sport</label>
                        <select id="winnerSport" name="winnerSport" required>
                            <option value="">Seleziona lo sport...</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="winnerNotes">Note (opzionale)</label>
                        <textarea id="winnerNotes" name="winnerNotes" placeholder="Aggiungi una nota sulla vittoria..." rows="3"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="cancelWinnerBtn">Annulla</button>
                <button type="submit" form="declareWinnerForm" class="btn btn-success">
                    <i class="fas fa-crown"></i>
                    Dichiara Vincitore
                </button>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="modalOverlay"></div>

    <!-- Scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script src="script.js"></script>
</body>
</html>

